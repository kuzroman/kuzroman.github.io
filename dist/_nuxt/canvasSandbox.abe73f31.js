import{s as E,r as _,k as z,E as M,x as C,l as I,o as P,a as L,U as h,p as q,q as B,e as j}from"./entry.9df884fa.js";import{C as A,M as O}from"./Meteor.016892a9.js";const U=o=>(q("data-v-651f44e2"),o=o(),B(),o),W=U(()=>j("canvas",{id:"canvas",class:"canvas"},null,-1)),X=[W],Y={__name:"canvasSandbox",setup(o){const a=_({}),s=_({});let c,n,l,r;const d=z(()=>!!Object.keys(a.value).length||!!Object.keys(s.value).length);M(d,e=>{e&&u()});function f(e,t,g,S,b){n.beginPath(),n.arc(e,t,g,0,2*Math.PI),n.strokeStyle=b,n.lineWidth=S,n.stroke()}const p=()=>{for(const e in a.value){const t=a.value[e];f(t.x,t.y,t.size+=1,t.thick-=.1,"#fff"),t.size>200&&delete a.value[e],t.thick<.2&&delete a.value[e]}};function m(e){e.updatePosition(),e.updateMeteorSize(),n.beginPath(),n.arc(e.x,e.y,e.size,0,2*Math.PI),n.fillStyle="red",n.fill()}const w=()=>{for(const e in s.value){const t=s.value[e];m(t),t.size<.1&&delete s.value[e]}},u=()=>{console.log(1),n.clearRect(0,0,l,r),p(),w(),d.value&&requestAnimationFrame(u)},x=e=>{a.value[h()]=new A(e.clientX,e.clientY)},k=e=>{for(let t=0;t<10;t++)s.value[h()]=new O({x:e.clientX,y:e.clientY})},i=()=>{l=c.width=window.innerWidth,r=c.height=window.innerHeight},y=()=>{c=document.querySelector(".canvas"),n=c.getContext("2d")},v=e=>{x(e),k(e)};return C(()=>{y(),i(),document.body.addEventListener("click",v),window.addEventListener("resize",i)}),I(()=>{document.body.removeEventListener("click",v),window.removeEventListener("resize",i)}),(e,t)=>(P(),L("div",null,X))}},N=E(Y,[["__scopeId","data-v-651f44e2"]]);export{N as default};
