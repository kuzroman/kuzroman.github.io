import{s as b,v as C,r as c,p as S,l as R,o,a,u as r,F as l,e as m,b as A,z as B}from"./entry.3995366f.js";const E=m("p",{class:"my-5"},'Click Start and "Allow" your microphone Permission!',-1),U={key:2},w=["src"],N=b({__name:"index",setup(x){C().commit("app/setIsPageLoaderHide",!0);let n=c([]),e=null;const d=c(!1),s=c("inactive"),v=S(()=>s.value==="recording"),y=t=>{const i=new Blob([t]);return URL.createObjectURL(i)},h=()=>{d.value=!0,navigator.mediaDevices.getUserMedia({audio:!0}).then(t=>{e=new MediaRecorder(t),e.addEventListener("dataavailable",u),e.addEventListener("stop",p)})},k=()=>{e&&(e.removeEventListener("dataavailable",u),e.removeEventListener("stop",p),e=null)},u=t=>{n.value.push(t.data)},_=()=>{e&&e.state==="inactive"&&(e.start(),s.value="recording")},f=()=>{e&&e.state==="recording"&&(e.stop(),s.value="inactive")},p=()=>{const t=document.querySelectorAll("audio");t[t.length-1].play()};return R(k),(t,i)=>(o(),a("div",null,[r(d)?(o(),a(l,{key:1},[r(v)?(o(),a("button",{key:0,onClick:f,type:"primary"}," Stop and play it ")):(o(),a("button",{key:1,onClick:_,type:"primary"}," Record your voice "))],64)):(o(),a(l,{key:0},[E,m("button",{onClick:h,type:"primary"},"Start")],64)),r(n).length?(o(),a("div",U,[(o(!0),a(l,null,A(r(n),(g,L)=>(o(),a("audio",{src:y(g),controls:"",key:L,class:"my-5 h-10 audio"},null,8,w))),128))])):B("",!0)]))}});export{N as default};
